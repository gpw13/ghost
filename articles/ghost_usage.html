<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ghost">
<title>Usage of ghost • ghost</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Usage of ghost">
<meta property="og:description" content="ghost">
<meta property="og:image" content="https://gpw13.github.io/ghost/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ghost</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ghost_usage.html">Usage of ghost</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gpw13/ghost/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="ghost_usage_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Usage of ghost</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gpw13/ghost/blob/HEAD/vignettes/ghost_usage.Rmd" class="external-link"><code>vignettes/ghost_usage.Rmd</code></a></small>
      <div class="d-none name"><code>ghost_usage.Rmd</code></div>
    </div>

    
    
<p>To begin, we can use <code><a href="../reference/gho_indicators.html">gho_indicators()</a></code> to begin to explore all data available in the GHO.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www9.who.int/gho/en/" class="external-link">ghost</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/gho_indicators.html">gho_indicators</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 2,242 × 3</span></span>
<span class="co">#&gt;    IndicatorCode IndicatorName                                          Language</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> AIR_10        Ambient air pollution  attributable DALYs per 100'000… EN      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> AIR_11        Household air pollution attributable deaths            EN      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> AIR_12        Household air pollution attributable deaths in childr… EN      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> AIR_13        Household air pollution attributable deaths per 100'0… EN      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> AIR_14        Household air pollution  attributable deaths per 100'… EN      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> AIR_15        Household air pollution attributable DALYs             EN      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> AIR_16        Household air pollution attributable DALYs in childre… EN      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> AIR_17        Household air pollution attributable DALYs (per 100 0… EN      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> AIR_18        Household air pollution  attributable DALYs per 100'0… EN      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> AIR_39        Household air pollution attributable DALYs (per 100 0… EN      </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 2,232 more rows</span></span></code></pre></div>
<p>If we want the data for <code>AIR_10</code>, we could now just quickly access the data frame using <code><a href="../reference/gho_data.html">gho_data()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gho_data.html">gho_data</a></span><span class="op">(</span><span class="st">"AIR_10"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 173 × 23</span></span>
<span class="co">#&gt;       Id IndicatorCode SpatialDimType SpatialDim TimeDimType TimeDim Dim1Type</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">6</span>452 AIR_10        COUNTRY        AFG        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">6</span>453 AIR_10        COUNTRY        ALB        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">6</span>454 AIR_10        COUNTRY        DZA        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">6</span>455 AIR_10        COUNTRY        AND        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">6</span>456 AIR_10        COUNTRY        AGO        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">6</span>457 AIR_10        COUNTRY        ATG        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">6</span>458 AIR_10        COUNTRY        ARG        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">6</span>459 AIR_10        COUNTRY        ARM        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  <span style="text-decoration: underline;">6</span>460 AIR_10        COUNTRY        AUS        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  <span style="text-decoration: underline;">6</span>461 AIR_10        COUNTRY        AUT        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 163 more rows, and 16 more variables: Dim1 &lt;lgl&gt;, Dim2Type &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   Dim2 &lt;lgl&gt;, Dim3Type &lt;lgl&gt;, Dim3 &lt;lgl&gt;, DataSourceDimType &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DataSourceDim &lt;lgl&gt;, Value &lt;chr&gt;, NumericValue &lt;dbl&gt;, Low &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   High &lt;lgl&gt;, Comments &lt;lgl&gt;, Date &lt;chr&gt;, TimeDimensionValue &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   TimeDimensionBegin &lt;dbl&gt;, TimeDimensionEnd &lt;dbl&gt;</span></span></code></pre></div>
<p>From here, standard methods of data manipulation (e.g. base R, the tidyverse) could be used to select variables, filter rows, and explore the data. However, we could also provide OData queries as desired, filtering on different dimensions of the data. Let’s first have a quick look at available dimensions.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gho_dimensions.html">gho_dimensions</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 92 × 2</span></span>
<span class="co">#&gt;    Code                  Title                                   </span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> ADVERTISINGTYPE       SUBSTANCE_ABUSE_ADVERTISING_TYPES       </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> AGEGROUP              Age Group                               </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> ALCOHOLTYPE           Beverage Types                          </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> AMRGLASSCATEGORY      AMR GLASS Category                      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> ARCHIVE               Archive date                            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> AWARENESSACTIVITYTYPE SUBSTANCE_ABUSE_AWARENESS_ACTIVITY_TYPES</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> BACGROUP              SUBSTANCE_ABUSE_BAC_GROUPS              </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> BEVERAGETYPE          SUBSTANCE_ABUSE_BEVERAGE_TYPES          </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> CAREPATIENT           Patient type                            </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> CARESECTOR            Care sector                             </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 82 more rows</span></span></code></pre></div>
<p>Let’s say we want to filter by <code>COUNTRY</code>, then we can explore explore the possible values the SpatialDim <code>COUNTRY</code> dimension can take.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gho_dimension_values.html">gho_dimension_values</a></span><span class="op">(</span><span class="st">"COUNTRY"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 245 × 6</span></span>
<span class="co">#&gt;    Code   Title                ParentDimension Dimension ParentCode ParentTitle </span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> ABW    Aruba                REGION          COUNTRY   AMR        Americas    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> AFG    Afghanistan          REGION          COUNTRY   EMR        Eastern Med…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> AGO    Angola               REGION          COUNTRY   AFR        Africa      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> AIA    Anguilla             REGION          COUNTRY   AMR        Americas    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> ALB    Albania              REGION          COUNTRY   EUR        Europe      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> AND    Andorra              REGION          COUNTRY   EUR        Europe      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> ANT530 SPATIAL_SYNONYM      REGION          COUNTRY   AMR        Americas    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> ANT532 SPATIAL_SYNONYM      REGION          COUNTRY   AMR        Americas    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> ARE    United Arab Emirates REGION          COUNTRY   EMR        Eastern Med…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> ARG    Argentina            REGION          COUNTRY   AMR        Americas    </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 235 more rows</span></span></code></pre></div>
<p>If we wanted to only extract <code>AIR_10</code> data on Burundi from the GHO, then we can now implement an OData query using the code we’ve identified above. While ghost doesn’t implement complex checks on your OData queries due to their complexity, it allows you to type them with spaces and checks that each query begins with the required <code>"$filter=..."</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gho_data.html">gho_data</a></span><span class="op">(</span><span class="st">"AIR_10"</span>, <span class="st">"$filter=SpatialDim eq 'BDI'"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 23</span></span>
<span class="co">#&gt;      Id IndicatorCode SpatialDimType SpatialDim TimeDimType TimeDim Dim1Type</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">6</span>479 AIR_10        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 16 more variables: Dim1 &lt;lgl&gt;, Dim2Type &lt;lgl&gt;, Dim2 &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   Dim3Type &lt;lgl&gt;, Dim3 &lt;lgl&gt;, DataSourceDimType &lt;lgl&gt;, DataSourceDim &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   Value &lt;chr&gt;, NumericValue &lt;dbl&gt;, Low &lt;lgl&gt;, High &lt;lgl&gt;, Comments &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   Date &lt;chr&gt;, TimeDimensionValue &lt;chr&gt;, TimeDimensionBegin &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   TimeDimensionEnd &lt;dbl&gt;</span></span></code></pre></div>
<p>And we can get data from the GHO on multiple indicators in one call, with the output data frames already merged together.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gho_data.html">gho_data</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AIR_10"</span>, <span class="st">"AIR_11"</span>, <span class="st">"AIR_12"</span><span class="op">)</span>, <span class="st">"$filter=SpatialDim eq 'BDI'"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 22 × 23</span></span>
<span class="co">#&gt;          Id IndicatorCode SpatialDimType SpatialDim TimeDimType TimeDim Dim1Type</span>
<span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     <span style="text-decoration: underline;">6</span>479 AIR_10        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 19<span style="text-decoration: underline;">580</span>064 AIR_11        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 19<span style="text-decoration: underline;">580</span>065 AIR_11        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 19<span style="text-decoration: underline;">580</span>066 AIR_11        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 19<span style="text-decoration: underline;">580</span>067 AIR_11        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 19<span style="text-decoration: underline;">580</span>068 AIR_11        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 19<span style="text-decoration: underline;">580</span>069 AIR_11        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 19<span style="text-decoration: underline;">580</span>070 AIR_11        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 19<span style="text-decoration: underline;">580</span>071 AIR_11        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 19<span style="text-decoration: underline;">580</span>072 AIR_11        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 12 more rows, and 16 more variables: Dim1 &lt;chr&gt;, Dim2Type &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   Dim2 &lt;chr&gt;, Dim3Type &lt;lgl&gt;, Dim3 &lt;lgl&gt;, DataSourceDimType &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DataSourceDim &lt;lgl&gt;, Value &lt;chr&gt;, NumericValue &lt;dbl&gt;, Low &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   High &lt;dbl&gt;, Comments &lt;lgl&gt;, Date &lt;chr&gt;, TimeDimensionValue &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   TimeDimensionBegin &lt;dbl&gt;, TimeDimensionEnd &lt;dbl&gt;</span></span></code></pre></div>
<p>We can even provide different filters for each indicator separately, such as Burundi for <code>AIR_10</code>, Uganda for <code>AIR_11</code>, and South Africa for <code>AIR_12</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/gho_data.html">gho_data</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AIR_10"</span>, <span class="st">"AIR_11"</span>, <span class="st">"AIR_12"</span><span class="op">)</span>, 
         <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"$filter=SpatialDim eq 'BDI'"</span>, <span class="st">"$filter=SpatialDim eq 'UGA'"</span>, <span class="st">"$filter=SpatialDim eq 'ZAF'"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 22 × 23</span></span>
<span class="co">#&gt;          Id IndicatorCode SpatialDimType SpatialDim TimeDimType TimeDim Dim1Type</span>
<span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     <span style="text-decoration: underline;">6</span>479 AIR_10        COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 19<span style="text-decoration: underline;">582</span>872 AIR_11        COUNTRY        UGA        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 19<span style="text-decoration: underline;">582</span>873 AIR_11        COUNTRY        UGA        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 19<span style="text-decoration: underline;">582</span>874 AIR_11        COUNTRY        UGA        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 19<span style="text-decoration: underline;">582</span>875 AIR_11        COUNTRY        UGA        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 19<span style="text-decoration: underline;">582</span>876 AIR_11        COUNTRY        UGA        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 19<span style="text-decoration: underline;">582</span>877 AIR_11        COUNTRY        UGA        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 19<span style="text-decoration: underline;">582</span>878 AIR_11        COUNTRY        UGA        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 19<span style="text-decoration: underline;">582</span>879 AIR_11        COUNTRY        UGA        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 19<span style="text-decoration: underline;">582</span>880 AIR_11        COUNTRY        UGA        YEAR           <span style="text-decoration: underline;">2</span>016 SEX     </span>
<span class="co">#&gt; <span style="color: #949494;"># … with 12 more rows, and 16 more variables: Dim1 &lt;chr&gt;, Dim2Type &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   Dim2 &lt;chr&gt;, Dim3Type &lt;lgl&gt;, Dim3 &lt;lgl&gt;, DataSourceDimType &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DataSourceDim &lt;lgl&gt;, Value &lt;chr&gt;, NumericValue &lt;dbl&gt;, Low &lt;dbl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   High &lt;dbl&gt;, Comments &lt;lgl&gt;, Date &lt;chr&gt;, TimeDimensionValue &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   TimeDimensionBegin &lt;dbl&gt;, TimeDimensionEnd &lt;dbl&gt;</span></span></code></pre></div>
<p>Of course, the reality is that it’s likely easier for us to work outside the OData filtering framework and directly in R, so here’s a final more complex example using dplyr and stringr alongside ghost to automatically download all indicators with the word “drug” in the indicator name (case insensitive).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/gho_indicators.html">gho_indicators</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">str_to_lower</a></span><span class="op">(</span><span class="va">IndicatorName</span><span class="op">)</span>, <span class="st">"drug"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">IndicatorCode</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="../reference/gho_data.html">gho_data</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 25,302 × 23</span></span>
<span class="co">#&gt;        Id IndicatorCode SpatialDimType SpatialDim TimeDimType TimeDim Dim1Type  </span>
<span class="co">#&gt;     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">273</span>692 MALARIA_30539 COUNTRY        MWI        YEAR           <span style="text-decoration: underline;">2</span>004 RESIDENCE…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">273</span>693 MALARIA_30539 COUNTRY        MWI        YEAR           <span style="text-decoration: underline;">2</span>004 RESIDENCE…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> <span style="text-decoration: underline;">273</span>694 MALARIA_30539 COUNTRY        MWI        YEAR           <span style="text-decoration: underline;">2</span>004 <span style="color: #BB0000;">NA</span>        </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> <span style="text-decoration: underline;">273</span>695 MALARIA_30539 COUNTRY        TZA        YEAR           <span style="text-decoration: underline;">2</span>004 RESIDENCE…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> <span style="text-decoration: underline;">273</span>714 MALARIA_30539 COUNTRY        BDI        YEAR           <span style="text-decoration: underline;">2</span>005 RESIDENCE…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> <span style="text-decoration: underline;">273</span>715 MALARIA_30539 COUNTRY        COG        YEAR           <span style="text-decoration: underline;">2</span>005 RESIDENCE…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> <span style="text-decoration: underline;">273</span>716 MALARIA_30539 COUNTRY        COG        YEAR           <span style="text-decoration: underline;">2</span>005 RESIDENCE…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">273</span>717 MALARIA_30539 COUNTRY        COG        YEAR           <span style="text-decoration: underline;">2</span>005 <span style="color: #BB0000;">NA</span>        </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">273</span>718 MALARIA_30539 COUNTRY        GIN        YEAR           <span style="text-decoration: underline;">2</span>005 RESIDENCE…</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">273</span>719 MALARIA_30539 COUNTRY        GIN        YEAR           <span style="text-decoration: underline;">2</span>005 RESIDENCE…</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 25,292 more rows, and 16 more variables: Dim1 &lt;chr&gt;, Dim2Type &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   Dim2 &lt;lgl&gt;, Dim3Type &lt;lgl&gt;, Dim3 &lt;lgl&gt;, DataSourceDimType &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   DataSourceDim &lt;lgl&gt;, Value &lt;chr&gt;, NumericValue &lt;dbl&gt;, Low &lt;lgl&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   High &lt;lgl&gt;, Comments &lt;lgl&gt;, Date &lt;chr&gt;, TimeDimensionValue &lt;chr&gt;,</span></span>
<span class="co">#&gt; <span style="color: #949494;">#   TimeDimensionBegin &lt;dbl&gt;, TimeDimensionEnd &lt;dbl&gt;</span></span></code></pre></div>
<p>And once we have that data, we can then filter, explore, and analyze the data with our standard R workflow, or even export the downloaded data to Excel or other analytical tools for further use.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Seth Caldwell.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
